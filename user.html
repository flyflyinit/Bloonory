<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
	<style type="text/css">
		body
{
 width:40%;
 margin:0 auto;
 padding:5px;
 background-image: url('background.png');
 background-repeat: no-repeat;
  background-size: cover;
font-family: "Arial";
font-size: 18px ;
;

}

#map {
    width:40%;
        height: 600px;
        width: 800px;
       }

</style>

</head>
<body >



  <div class="container">
<form  action="user2.html"  method="post" enctype="multipart/form-data">
  <div class="form-group">

	<br>
	<br>

	<label><b>Select The Departement </b></label>
	<select class="form-control" name="ndept">
		<option value ="01">Ain</option>
		<option value ="02">Aisne</option>
		<option value ="03">Alier</option>
		<option value ="04">Alpes-de-haute-provenance</option>
		<option value ="05">Hautes-Alpes</option>
		<option value ="06">Alpes-Martimies</option>
		<option value ="07">Ardeche</option>
		<option value ="08">Ardennes</option>
		<option value ="09">Ariege</option>
		<option value ="10">Aube</option>
		<option value ="11">Aude</option>
		<option value ="12">Aveyron</option>
		<option value ="13">Bouches-Du-Rhone</option>
		<option value ="14">Calvados</option>
		<option value ="15">Cantal</option>
		<option value ="16">Charente</option>
		<option value ="17">Charente-maritime</option>
		<option value ="18">Cher</option>
		<option value ="19">Correze</option>
		<option value ="20">Corse-du-sud</option>
		<option value ="21">Haute-corse</option>
		<option value ="22">Cote-dor</option>
		<option value ="23">cotes-darmor</option>
		<option value ="24">creuse</option>
		<option value ="25">dordogne</option>
		<option value ="26">doubs</option>
		<option value ="27">Drôme</option>
		<option value ="28">Eure</option>
		<option value ="29">Eure-et-Loir</option>
		<option value ="30">Finistère</option>
		<option value ="31">Gard</option>
		<option value ="32">Haute-Garonne</option>
		<option value ="33">Gers</option>
		<option value ="34">Gironde</option>
		<option value ="35">Hérault</option>
		<option value ="36">Ille-et-Vilaine</option>
		<option value ="37">Indre</option>
		<option value ="38">Indre-et-Loire	</option>
		<option value ="39">Isère</option>
		<option value ="40">Jura</option>
		<option value ="41">Landes</option>
		<option value ="42">Loir-et-Cher</option>
		<option value ="43">Loire</option>
		<option value ="44">Haute-Loire</option>
		<option value ="45">Loire-Atlantique</option>
		<option value ="46">Loiret</option>
		<option value ="47">Lot</option>
		<option value ="48">Lot-et-Garonne</option>
		<option value ="49">Lozère</option>
		<option value ="50">Maine-et-Loire</option>
		<option value ="51">Manche</option>
		<option value ="52">Marne</option>
		<option value ="53">Haute-Marne</option>
		<option value ="54">Mayenne</option>
		<option value ="55">Meurthe-et-Moselle</option>
		<option value ="56">Meuse</option>
		<option value ="57">Morbihan</option>
		<option value ="58">Moselle</option>
        <option value ="46">Nièvre</option>
		<option value ="47">Nord</option>
		<option value ="48">Oise</option>
		<option value ="49">Orne</option>
		<option value ="50">Pas-de-Calais</option>
		<option value ="51">Puy-de-Dôme</option>
		<option value ="52">Pyrénées-Atlantiques </option>
		<option value ="53">Hautes-Pyrénées</option>
		<option value ="54">Pyrénées-Orientales</option>
		<option value ="55">Bas-Rhin</option>
		<option value ="56">Haut-Rhin</option>
		<option value ="57">Rhône</option>
		<option value ="58">Lyon Metropolis</option>
        <option value ="46">Haute-Saône</option>
		<option value ="47">Sarthe</option>
		<option value ="48">Savoie</option>
		<option value ="49">Haute-Savoie</option>
		<option value ="50">Paris</option>
		<option value ="51">Seine-Maritime</option>
		<option value ="52">Seine-et-Marne </option>
		<option value ="53">Yvelines</option>
		<option value ="54">Deux-Sèvres</option>
		<option value ="55">Somme</option>
		<option value ="56">Tarn</option>
		<option value ="57">Tarn-et-Garonne</option>
		<option value ="58">Var</option>
        <option value ="46">Vaucluse</option>
		<option value ="47">Vendée</option>
		<option value ="48">Vienne</option>
		<option value ="49">Haute-Vienne</option>
		<option value ="50">Vosges</option>
		<option value ="51">Yonne</option>
		<option value ="52">Territoire de Belfort</option>
		<option value ="53">Essonne</option>
		<option value ="54">Hauts-de-Seine</option>
		<option value ="55">Seine-Saint-Denis</option>
		<option value ="56">Val-d'Oise</option>
		<option value ="57">Guadeloupe</option>
		<option value ="58">Martinique</option>
        <option value ="56">Guyane</option>
		<option value ="57">La Réunion</option>
		<option value ="58">Mayotte</option>

	</select> 
	<select class="form-control" name="grpage">
		<option value ="O+">O+</option>
		<option value ="O-">O-</option>
		<option value ="A+">A+</option>
		<option value ="A-">A-</option>
		<option value ="B+">B+</option>
		<option value ="B-">B-</option>
		<option value ="AB+">AB+</option>
		<option value ="AB-">AB-</option>

	</select>
	<br>

	<button type="submit" class="btn btn-success btn-block" name="submit">Search</button>

</div>

</form>


<form   action='index.html' > 
	<button  type="submit" class="btn btn-outline-danger" >Back</button> 
</form>
  </div>

      <!--The div elements for the map and message -->
      <div id="map"></div>
      <div id="msg"></div>
      <script>
  // Initialize and add the map
  var map;
  function initMap() {
          // Locations of landmarks
    const versaillesuvsq = {lat: 48.8110442904212 , lng: 2.148593859886628};
    const ladefense = {lat: 48.890615742072875, lng: 2.2455969901578716};

    // The map, centered on Central Park
    const center = versaillesuvsq ;
    const options = {zoom: 11, scaleControl: true, center: center};
    map = new google.maps.Map(
        document.getElementById('map'), options);
  

    // The markers for The Dakota and The Frick Collection
    var mk1 = new google.maps.Marker({position: versaillesuvsq, map: map});
    var mk2 = new google.maps.Marker({position: ladefense, map: map});

        // Draw a line showing the straight distance between the markers
        var line = new google.maps.Polyline({path: [versaillesuvsq, ladefense], map: map});

          // Calculate and display the distance between markers
  var distance = haversine_distance(mk1, mk2);
  document.getElementById('msg').innerHTML = "Distance between markers: " + distance.toFixed(2) + " mi.";
  }



  let directionsService = new google.maps.DirectionsService();
  let directionsRenderer = new google.maps.DirectionsRenderer();
  directionsRenderer.setMap(map); // Existing map object displays directions
  // Create route from existing points used for markers
  const route = {
      origin: versaillesuvsq,
      destination: ladefense,
      travelMode: 'WALKING'
  }

  directionsService.route(route,
    function(response, status) { // anonymous function to capture directions
      if (status !== 'OK') {
        window.alert('Directions request failed due to ' + status);
        return;
      } else {
        directionsRenderer.setDirections(response); // Add route to the map
        var directionsData = response.routes[0].legs[0]; // Get data about the mapped route
        if (!directionsData) {
          window.alert('Directions request failed');
          return;
        }
        else {
          document.getElementById('msg').innerHTML += " Driving distance is " + directionsData.distance.text + " (" + directionsData.duration.text + ").";
        }
      }
    });


  function haversine_distance(mk1, mk2) {
      var R = 3958.8; // Radius of the Earth in miles
      var rlat1 = mk1.position.lat() * (Math.PI/180); // Convert degrees to radians
      var rlat2 = mk2.position.lat() * (Math.PI/180); // Convert degrees to radians
      var difflat = rlat2-rlat1; // Radian difference (latitudes)
      var difflon = (mk2.position.lng()-mk1.position.lng()) * (Math.PI/180); // Radian difference (longitudes)

      var d = 2 * R * Math.asin(Math.sqrt(Math.sin(difflat/2)*Math.sin(difflat/2)+Math.cos(rlat1)*Math.cos(rlat2)*Math.sin(difflon/2)*Math.sin(difflon/2)));
      return d;
    }

      </script>
      <!--Load the API from the specified URL -- remember to replace YOUR_API_KEY-->
      <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB4gjTCAbDp_zBHuX44fzpls2G8LZ-VKuw&callback=initMap">
      </script>
  

</body>
</html>
