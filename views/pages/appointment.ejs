<!DOCTYPE html>
<html lang="en">
<%- include('head'); -%>
<body>
<%- include('header'); -%>
<div class="container col-lg-6 px-4 py-2 my-5">
    <form method="post">
        <h1 class="text-center display-5 fw-bold"><%= title %></h1>
        <br>
        <h2 class="fs-4 fw-bold">Select a date:</h2>
        <div class="input-group mb-3">
            <input name="date" type="date" class="form-control" placeholder="Recipient's username" aria-label="Recipient's username" aria-describedby="button-addon2" required="">
        </div>

        <h2 class="fs-4 fw-bold">Destination:</h2>
        <!--The div element for the map -->
        <div id="floating-panel">
            <h3 class="fs-6 fw-bold">Start:</h3>
            <input name="start" type="text" class="form-control" id="start" placeholder="your localisation" required="">
            <br>
            <h3 class="fs-6 fw-bold">End:</h3>
            <select name="end" id="end" class="form-select">
                <% for (hospital of hospitals) { %>
                    <option value="<%= hospital.adresse %>,<%= hospital.ville %>"><%= hospital.ville %>, <%= hospital.nom %></option>
                <% } %>
            </select>
        </div>
        <br>
        <div id="map"></div>

        <div class="container col-lg-3 py-2">
            <button class="w-100 btn btn-lg btn-primary" type="submit">Take it</button>
        </div>
    </form>
</div>

<script src="/script/js/google_map_donator.js"></script>

<!-- Async script executes immediately and must be after any DOM elements used in callback. -->
<script
        src="https://maps.googleapis.com/maps/api/js?key=<%= process.env.KEY_API_GOOGLEMAP %>&callback=initMap&v=weekly"
        async
></script>

<%- include('footer'); -%>
</body>
</html>