<!DOCTYPE html>
<html lang="en">
<%- include('head'); -%>
<body class="d-flex flex-column min-vh-100">
<%- include('header_admin'); -%>
<%- include('modal'); -%>
<div class="container col-lg-6 mx-auto">
    <h1 class="mb-3 text-center fs-8 fw-bold">Appointment management : </h1>
    <form method="post" class="needs-validation" novalidate="">

        <% if (appointments.length !== 0) { %>
            <h2 class="mb-2 fs-7 fw-bold">Appointments incoming :</h2>
            <% for (appointment of appointments) { %>
                <div class="card">
                    <div class="card-header">
                        <%= appointment.type_appointment %>
                    </div>
                    <div class="card-body">
                        <h5 class="card-title"><%= appointment.name %>: <%= appointment.address %>, <%= appointment.city %></h5>
                        <p class="card-text">For: <%= appointment.date_appointment.format("MMMM Do YYYY") %> </p>
                        <button name="accept_appointment" class="btn btn-success" type="submit" value="<%= appointment.mail_consumer %>,<%= appointment.hospital_id %>,<%= appointment.date_appointment %>">Accept</button>
                        <button name="delete_appointment" class="btn btn-danger" type="submit" value="<%= appointment.mail_consumer %>,<%= appointment.hospital_id %>,<%= appointment.date_appointment %>">Delete</button>
                    </div>
                </div>
                <br>
            <% } %>
        <% } else { %>
                <p class="text-center fs-3 fw-bold"> No appointment incoming </p>
            <% } %>
    </form>
</div>
<%- include('footer_admin'); -%>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>